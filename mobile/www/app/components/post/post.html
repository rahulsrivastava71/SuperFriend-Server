<ion-view view-title="{{ 'post.title' | translate }}" hide-back-button="true">
    <ion-nav-buttons side="secondary">
        <button class="button button-clear button-small icon ion-close-round" style="opacity:0.4;" ng-click="vm.close()">
        </button>
    </ion-nav-buttons>
    <ion-content class="has-subfooter">
        <form name="newPost" novalidate="">
            <ion-item>
                <ion-textarea>
                        <textarea ng-model="vm.status.content"
                                  rows="15"
                                  placeholder="{{ 'post.message' | translate }}"
                                  ng-required="true"
                                  ng-trim="false"
                                  ng-paste="vm.paste()"
                                  style="width: 100%; height: 100%;">
                            </textarea>
                </ion-textarea>
            </ion-item>
        </form>
        <span ng-repeat="image in vm.images track by $index">
            <div class="list card">
                <div class="item item-image">
                    <img class="center" ng-show="vm.images.length > 0" ng-src="{{ image }}">
                    <i class="icon ion-close-round light" ng-click="vm.remove($index)"></i>
                </div>
            </div>
        </span>
    </ion-content>
    <ion-footer-bar align-title="right" tatami-post-bar-attach="true" class="bar-subfooter">
        <div class="row" style="width:50%;">
            <button style="opacity: 0.5;" class="col-33 button button-clear icon ion-camera" ng-click="vm.getPicture()"></button>
            <button style="opacity: 0.5;" class="col-33 button button-clear icon ion-images" ng-click="vm.getPictureFromLibrary()"></button>
        </div>

        <h1 class="title">{{vm.remainingLength}}</h1>
        <button class="button button-positive"
                translate="post.title"
                ng-disabled="vm.status.content.length === 0 || !vm.status.content || vm.isPosting"
                ng-click="vm.post()">
            Post
        </button>
    </ion-footer-bar>
</ion-view>
